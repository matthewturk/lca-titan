      program titan
c
c***********************************************************************
c     one-dimensional  adaptive-grid  turbulent  radiation hydrodynamics
c***********************************************************************
c
      include'titan.imp'
      include'titan.par'
      include'titan.com'
      include'titan.dat'
c
c=======================================================================
c     initialize all commons
c=======================================================================
c
      xindef = 0.0D0
c
c=======================================================================
c     open files
c=======================================================================
c
      call opnfil
c
c=======================================================================
c     set logical switches and input parameters; recover or generate 
c     initial model
c=======================================================================
c
      call start
c
c=======================================================================
c     time integration
c=======================================================================
c
      do 1 jstep = jsteps, jstepe
c
c-----------------------------------------------------------------------
c     perform a single integration step
c-----------------------------------------------------------------------
c
      call step
c
c-----------------------------------------------------------------------
c     archival output
c-----------------------------------------------------------------------
c
      call archive
c
c-----------------------------------------------------------------------
c     model output and model evolution
c-----------------------------------------------------------------------
c
      call writout
c
      call writsty
c
c-----------------------------------------------------------------------
c     terminate run 
c-----------------------------------------------------------------------
c
      if (timen .ge. tmax) then
                           call clzfil
                           stop
      end if
c
    1 continue
c
c=======================================================================
c     close files
c=======================================================================
c
      call clzfil
c
      stop
      end
